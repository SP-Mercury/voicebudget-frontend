{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yang wen\\\\Desktop\\\\voicebudget-frontend\\\\src\\\\components\\\\VoiceUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getCategoryColor = category => {\n  const map = {\n    '飲食': 'green',\n    '交通': 'blue',\n    '娛樂': 'purple',\n    '購物': 'orange',\n    '其他': 'gray',\n    '未分類': 'gray'\n  };\n  return map[category] || 'black';\n};\nconst formatTime = iso => new Date(iso).toLocaleString('zh-TW');\nconst formatDate = iso => {\n  const date = new Date(iso);\n  return {\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate()\n  };\n};\nconst getDaysInMonth = (year, month) => {\n  if (!year || !month) return 31;\n  return new Date(year, month, 0).getDate();\n};\nconst VoiceBudgetApp = () => {\n  _s();\n  const mediaRecorderRef = useRef(null);\n  const [recording, setRecording] = useState(false);\n  const [response, setResponse] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [income, setIncome] = useState(0);\n  const [expense, setExpense] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [year, setYear] = useState('');\n  const [month, setMonth] = useState('');\n  const [day, setDay] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editDescription, setEditDescription] = useState('');\n  const [editAmount, setEditAmount] = useState(0);\n  const [editCategory, setEditCategory] = useState('');\n  const [editType, setEditType] = useState('');\n  const [editTimeYear, setEditTimeYear] = useState('');\n  const [editTimeMonth, setEditTimeMonth] = useState('');\n  const [editTimeDay, setEditTimeDay] = useState('');\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const recorder = new MediaRecorder(stream);\n      const chunks = [];\n      recorder.ondataavailable = e => chunks.push(e.data);\n      recorder.onstop = () => {\n        const blob = new Blob(chunks, {\n          type: 'audio/webm'\n        });\n        uploadAudio(blob);\n      };\n      recorder.start();\n      mediaRecorderRef.current = recorder;\n      setRecording(true);\n    } catch (err) {\n      alert(\"🎤 麥克風授權失敗：\" + err.message);\n    }\n  };\n  const stopRecording = () => {\n    const recorder = mediaRecorderRef.current;\n    if (recorder && recorder.state !== 'inactive') {\n      recorder.stop();\n      setRecording(false);\n    }\n  };\n  const uploadAudio = async blob => {\n    const formData = new FormData();\n    formData.append(\"file\", blob, \"voice.webm\");\n    try {\n      const res = await axios.post(\"http://192.168.194.194:8080/api/upload\", formData);\n      setResponse(res.data);\n      fetchRecords();\n    } catch (err) {\n      alert(\"上傳失敗！\");\n    }\n  };\n  const fetchRecords = async () => {\n    const params = {};\n    if (year) params.year = year;\n    if (month) params.month = month;\n    if (day) params.day = day;\n    try {\n      const res = await axios.get(\"http://192.168.194.194:8080/api/records/summary\", {\n        params\n      });\n      setRecords(res.data.records || []);\n      setIncome(res.data.income || 0);\n      setExpense(res.data.expense || 0);\n      setTotal(res.data.total || 0);\n    } catch (err) {\n      alert(\"查詢失敗！\");\n    }\n  };\n  const startEdit = r => {\n    const {\n      year,\n      month,\n      day\n    } = formatDate(r.time);\n    setEditingId(r.id);\n    setEditDescription(r.description);\n    setEditAmount(r.amount);\n    setEditCategory(r.category);\n    setEditType(r.type);\n    setEditTimeYear(year);\n    setEditTimeMonth(month);\n    setEditTimeDay(day);\n  };\n  const saveEdit = async () => {\n    const fixedTime = new Date(editTimeYear, editTimeMonth - 1, editTimeDay, 12).toISOString();\n    await axios.put(`http://192.168.194.194:8080/api/records/${editingId}`, {\n      description: editDescription,\n      amount: editAmount,\n      category: editCategory,\n      type: editType,\n      time: fixedTime\n    });\n    setEditingId(null);\n    fetchRecords();\n  };\n  const deleteRecord = async id => {\n    if (window.confirm(\"確定要刪除這筆紀錄嗎？\")) {\n      await axios.delete(`http://192.168.194.194:8080/api/records/${id}`);\n      fetchRecords();\n    }\n  };\n  useEffect(() => {\n    fetchRecords();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83C\\uDFA4 \\u8A9E\\u97F3\\u8A18\\u5E33\\u7CFB\\u7D71\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onMouseDown: startRecording,\n      onMouseUp: stopRecording,\n      onTouchStart: startRecording,\n      onTouchEnd: stopRecording,\n      style: {\n        padding: 10,\n        background: 'green',\n        color: 'white',\n        borderRadius: 8\n      },\n      children: recording ? \"錄音中...\" : \"🎙 按住錄音\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), response && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20,\n        padding: 15,\n        border: '1px solid #ccc',\n        borderRadius: 8,\n        background: '#f9f9f9'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u2705 \\u7D00\\u9304\\u6210\\u529F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCDD \\u63CF\\u8FF0\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 14\n        }, this), response.description || \"(空白)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCC2 \\u985E\\u5225\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: getCategoryColor(response.category),\n            color: \"white\",\n            padding: '3px 8px',\n            borderRadius: 5\n          },\n          children: response.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCB0 \\u91D1\\u984D\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 14\n        }, this), response.amount, \" \\u5143\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCC5 \\u6642\\u9593\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 14\n        }, this), formatTime(response.time)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        margin: '30px 0'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDCCA \\u67E5\\u8A62\\u7D00\\u9304\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10\n      },\n      children: [\"\\u5E74\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: year,\n        onChange: e => setYear(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), Array.from({\n          length: 11\n        }, (_, i) => 2020 + i).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: y,\n          children: y\n        }, y, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), \"\\u6708\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: month,\n        onChange: e => setMonth(e.target.value),\n        style: {\n          marginLeft: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), Array.from({\n          length: 12\n        }, (_, i) => i + 1).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: m,\n          children: m\n        }, m, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), \"\\u65E5\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: day,\n        onChange: e => setDay(e.target.value),\n        style: {\n          marginLeft: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), Array.from({\n          length: getDaysInMonth(year, month)\n        }, (_, i) => i + 1).map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: d,\n          children: d\n        }, d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchRecords,\n        style: {\n          marginLeft: 10\n        },\n        children: \"\\u67E5\\u8A62\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCB0 \\u6536\\u5165\\u7E3D\\u548C\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 10\n      }, this), income, \" \\u5143\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83E\\uDDFE \\u652F\\u51FA\\u7E3D\\u548C\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 10\n      }, this), expense, \" \\u5143\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCB5 \\u6DE8\\u984D\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 10\n      }, this), total, \" \\u5143\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none',\n        padding: 0\n      },\n      children: records.map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          margin: '10px 0',\n          border: '1px solid #ccc',\n          borderRadius: 5,\n          padding: 10\n        },\n        children: editingId === r.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: editDescription,\n            onChange: e => setEditDescription(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: editAmount,\n            onChange: e => setEditAmount(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editCategory,\n            onChange: e => setEditCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u98F2\\u98DF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u4EA4\\u901A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u5A1B\\u6A02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u8CFC\\u7269\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 76\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u5176\\u4ED6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 95\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editType,\n            onChange: e => setEditType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u652F\\u51FA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u6536\\u5165\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u5E74\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editTimeYear,\n              onChange: e => setEditTimeYear(e.target.value),\n              children: Array.from({\n                length: 11\n              }, (_, i) => 2020 + i).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: y,\n                children: y\n              }, y, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), \"\\u6708\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editTimeMonth,\n              onChange: e => setEditTimeMonth(e.target.value),\n              style: {\n                marginLeft: 10\n              },\n              children: Array.from({\n                length: 12\n              }, (_, i) => i + 1).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: m,\n                children: m\n              }, m, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), \"\\u65E5\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editTimeDay,\n              onChange: e => setEditTimeDay(e.target.value),\n              style: {\n                marginLeft: 10\n              },\n              children: Array.from({\n                length: getDaysInMonth(editTimeYear, editTimeMonth)\n              }, (_, i) => i + 1).map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d,\n                children: d\n              }, d, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveEdit,\n            children: \"\\uD83D\\uDCBE \\u5132\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEditingId(null),\n            style: {\n              marginLeft: 5\n            },\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: r.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCC2 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: getCategoryColor(r.category)\n              },\n              children: r.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 23\n            }, this), \" | \\uD83D\\uDCB0 \", r.amount, \" \\u5143 | \\uD83D\\uDD52 \", formatTime(r.time)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => startEdit(r),\n            children: \"\\u270F\\uFE0F \\u4FEE\\u6539\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteRecord(r.id),\n            style: {\n              marginLeft: 5\n            },\n            children: \"\\uD83D\\uDDD1 \\u522A\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }, this)\n      }, r.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceBudgetApp, \"3L+F6FuB2Va7tGqMS6YrkntO/5o=\");\n_c = VoiceBudgetApp;\nexport default VoiceBudgetApp;\nvar _c;\n$RefreshReg$(_c, \"VoiceBudgetApp\");","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","jsxDEV","_jsxDEV","getCategoryColor","category","map","formatTime","iso","Date","toLocaleString","formatDate","date","year","getFullYear","month","getMonth","day","getDate","getDaysInMonth","VoiceBudgetApp","_s","mediaRecorderRef","recording","setRecording","response","setResponse","records","setRecords","income","setIncome","expense","setExpense","total","setTotal","setYear","setMonth","setDay","editingId","setEditingId","editDescription","setEditDescription","editAmount","setEditAmount","editCategory","setEditCategory","editType","setEditType","editTimeYear","setEditTimeYear","editTimeMonth","setEditTimeMonth","editTimeDay","setEditTimeDay","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","recorder","MediaRecorder","chunks","ondataavailable","e","push","data","onstop","blob","Blob","type","uploadAudio","start","current","err","alert","message","stopRecording","state","stop","formData","FormData","append","res","post","fetchRecords","params","get","startEdit","r","time","id","description","amount","saveEdit","fixedTime","toISOString","put","deleteRecord","window","confirm","delete","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","background","color","borderRadius","marginTop","border","backgroundColor","marginBottom","value","onChange","target","Array","from","length","_","i","y","marginLeft","m","d","onClick","listStyle","_c","$RefreshReg$"],"sources":["C:/Users/yang wen/Desktop/voicebudget-frontend/src/components/VoiceUploader.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst getCategoryColor = (category) => {\r\n  const map = {\r\n    '飲食': 'green',\r\n    '交通': 'blue',\r\n    '娛樂': 'purple',\r\n    '購物': 'orange',\r\n    '其他': 'gray',\r\n    '未分類': 'gray',\r\n  };\r\n  return map[category] || 'black';\r\n};\r\n\r\nconst formatTime = (iso) => new Date(iso).toLocaleString('zh-TW');\r\nconst formatDate = (iso) => {\r\n  const date = new Date(iso);\r\n  return {\r\n    year: date.getFullYear(),\r\n    month: date.getMonth() + 1,\r\n    day: date.getDate()\r\n  };\r\n};\r\nconst getDaysInMonth = (year, month) => {\r\n  if (!year || !month) return 31;\r\n  return new Date(year, month, 0).getDate();\r\n};\r\n\r\nconst VoiceBudgetApp = () => {\r\n  const mediaRecorderRef = useRef(null);\r\n  const [recording, setRecording] = useState(false);\r\n  const [response, setResponse] = useState(null);\r\n  const [records, setRecords] = useState([]);\r\n  const [income, setIncome] = useState(0);\r\n  const [expense, setExpense] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [year, setYear] = useState('');\r\n  const [month, setMonth] = useState('');\r\n  const [day, setDay] = useState('');\r\n\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editDescription, setEditDescription] = useState('');\r\n  const [editAmount, setEditAmount] = useState(0);\r\n  const [editCategory, setEditCategory] = useState('');\r\n  const [editType, setEditType] = useState('');\r\n  const [editTimeYear, setEditTimeYear] = useState('');\r\n  const [editTimeMonth, setEditTimeMonth] = useState('');\r\n  const [editTimeDay, setEditTimeDay] = useState('');\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const recorder = new MediaRecorder(stream);\r\n      const chunks = [];\r\n\r\n      recorder.ondataavailable = (e) => chunks.push(e.data);\r\n      recorder.onstop = () => {\r\n        const blob = new Blob(chunks, { type: 'audio/webm' });\r\n        uploadAudio(blob);\r\n      };\r\n\r\n      recorder.start();\r\n      mediaRecorderRef.current = recorder;\r\n      setRecording(true);\r\n    } catch (err) {\r\n      alert(\"🎤 麥克風授權失敗：\" + err.message);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    const recorder = mediaRecorderRef.current;\r\n    if (recorder && recorder.state !== 'inactive') {\r\n      recorder.stop();\r\n      setRecording(false);\r\n    }\r\n  };\r\n\r\n  const uploadAudio = async (blob) => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", blob, \"voice.webm\");\r\n\r\n    try {\r\n      const res = await axios.post(\"http://192.168.194.194:8080/api/upload\", formData);\r\n      setResponse(res.data);\r\n      fetchRecords();\r\n    } catch (err) {\r\n      alert(\"上傳失敗！\");\r\n    }\r\n  };\r\n\r\n  const fetchRecords = async () => {\r\n    const params = {};\r\n    if (year) params.year = year;\r\n    if (month) params.month = month;\r\n    if (day) params.day = day;\r\n\r\n    try {\r\n      const res = await axios.get(\"http://192.168.194.194:8080/api/records/summary\", { params });\r\n      setRecords(res.data.records || []);\r\n      setIncome(res.data.income || 0);\r\n      setExpense(res.data.expense || 0);\r\n      setTotal(res.data.total || 0);\r\n    } catch (err) {\r\n      alert(\"查詢失敗！\");\r\n    }\r\n  };\r\n\r\n  const startEdit = (r) => {\r\n    const { year, month, day } = formatDate(r.time);\r\n    setEditingId(r.id);\r\n    setEditDescription(r.description);\r\n    setEditAmount(r.amount);\r\n    setEditCategory(r.category);\r\n    setEditType(r.type);\r\n    setEditTimeYear(year);\r\n    setEditTimeMonth(month);\r\n    setEditTimeDay(day);\r\n  };\r\n\r\n  const saveEdit = async () => {\r\n    const fixedTime = new Date(editTimeYear, editTimeMonth - 1, editTimeDay, 12).toISOString();\r\n    await axios.put(`http://192.168.194.194:8080/api/records/${editingId}`, {\r\n      description: editDescription,\r\n      amount: editAmount,\r\n      category: editCategory,\r\n      type: editType,\r\n      time: fixedTime\r\n    });\r\n    setEditingId(null);\r\n    fetchRecords();\r\n  };\r\n\r\n  const deleteRecord = async (id) => {\r\n    if (window.confirm(\"確定要刪除這筆紀錄嗎？\")) {\r\n      await axios.delete(`http://192.168.194.194:8080/api/records/${id}`);\r\n      fetchRecords();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRecords();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: 20, maxWidth: 800, margin: 'auto' }}>\r\n      <h2>🎤 語音記帳系統</h2>\r\n\r\n      <button\r\n        onMouseDown={startRecording}\r\n        onMouseUp={stopRecording}\r\n        onTouchStart={startRecording}\r\n        onTouchEnd={stopRecording}\r\n        style={{ padding: 10, background: 'green', color: 'white', borderRadius: 8 }}\r\n      >\r\n        {recording ? \"錄音中...\" : \"🎙 按住錄音\"}\r\n      </button>\r\n\r\n      {response && (\r\n        <div style={{ marginTop: 20, padding: 15, border: '1px solid #ccc', borderRadius: 8, background: '#f9f9f9' }}>\r\n          <h3>✅ 紀錄成功</h3>\r\n          <p><strong>📝 描述：</strong>{response.description || \"(空白)\"}</p>\r\n          <p><strong>📂 類別：</strong><span style={{ backgroundColor: getCategoryColor(response.category), color: \"white\", padding: '3px 8px', borderRadius: 5 }}>{response.category}</span></p>\r\n          <p><strong>💰 金額：</strong>{response.amount} 元</p>\r\n          <p><strong>📅 時間：</strong>{formatTime(response.time)}</p>\r\n        </div>\r\n      )}\r\n\r\n      <hr style={{ margin: '30px 0' }} />\r\n\r\n      <h3>📊 查詢紀錄</h3>\r\n      <div style={{ marginBottom: 10 }}>\r\n        年：\r\n        <select value={year} onChange={(e) => setYear(e.target.value)}>\r\n          <option value=\"\">--</option>\r\n          {Array.from({ length: 11 }, (_, i) => 2020 + i).map(y => (\r\n            <option key={y} value={y}>{y}</option>\r\n          ))}\r\n        </select>\r\n        月：\r\n        <select value={month} onChange={(e) => setMonth(e.target.value)} style={{ marginLeft: 10 }}>\r\n          <option value=\"\">--</option>\r\n          {Array.from({ length: 12 }, (_, i) => i + 1).map(m => (\r\n            <option key={m} value={m}>{m}</option>\r\n          ))}\r\n        </select>\r\n        日：\r\n        <select value={day} onChange={(e) => setDay(e.target.value)} style={{ marginLeft: 10 }}>\r\n          <option value=\"\">--</option>\r\n          {Array.from({ length: getDaysInMonth(year, month) }, (_, i) => i + 1).map(d => (\r\n            <option key={d} value={d}>{d}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={fetchRecords} style={{ marginLeft: 10 }}>查詢</button>\r\n      </div>\r\n\r\n      <p><strong>💰 收入總和：</strong>{income} 元</p>\r\n      <p><strong>🧾 支出總和：</strong>{expense} 元</p>\r\n      <p><strong>💵 淨額：</strong>{total} 元</p>\r\n\r\n      <ul style={{ listStyle: 'none', padding: 0 }}>\r\n        {records.map(r => (\r\n          <li key={r.id} style={{ margin: '10px 0', border: '1px solid #ccc', borderRadius: 5, padding: 10 }}>\r\n            {editingId === r.id ? (\r\n              <div>\r\n                <input value={editDescription} onChange={(e) => setEditDescription(e.target.value)} />\r\n                <input type=\"number\" value={editAmount} onChange={(e) => setEditAmount(e.target.value)} />\r\n                <select value={editCategory} onChange={(e) => setEditCategory(e.target.value)}>\r\n                  <option>飲食</option><option>交通</option><option>娛樂</option><option>購物</option><option>其他</option>\r\n                </select>\r\n                <select value={editType} onChange={(e) => setEditType(e.target.value)}>\r\n                  <option>支出</option><option>收入</option>\r\n                </select>\r\n                <div>\r\n                  年：\r\n                  <select value={editTimeYear} onChange={(e) => setEditTimeYear(e.target.value)}>\r\n                    {Array.from({ length: 11 }, (_, i) => 2020 + i).map(y => (\r\n                      <option key={y} value={y}>{y}</option>\r\n                    ))}\r\n                  </select>\r\n                  月：\r\n                  <select value={editTimeMonth} onChange={(e) => setEditTimeMonth(e.target.value)} style={{ marginLeft: 10 }}>\r\n                    {Array.from({ length: 12 }, (_, i) => i + 1).map(m => (\r\n                      <option key={m} value={m}>{m}</option>\r\n                    ))}\r\n                  </select>\r\n                  日：\r\n                  <select value={editTimeDay} onChange={(e) => setEditTimeDay(e.target.value)} style={{ marginLeft: 10 }}>\r\n                    {Array.from({ length: getDaysInMonth(editTimeYear, editTimeMonth) }, (_, i) => i + 1).map(d => (\r\n                      <option key={d} value={d}>{d}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <button onClick={saveEdit}>💾 儲存</button>\r\n                <button onClick={() => setEditingId(null)} style={{ marginLeft: 5 }}>取消</button>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <p><strong>{r.description}</strong></p>\r\n                <p>📂 <span style={{ color: getCategoryColor(r.category) }}>{r.category}</span> | 💰 {r.amount} 元 | 🕒 {formatTime(r.time)}</p>\r\n                <button onClick={() => startEdit(r)}>✏️ 修改</button>\r\n                <button onClick={() => deleteRecord(r.id)} style={{ marginLeft: 5 }}>🗑 刪除</button>\r\n              </div>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceBudgetApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}